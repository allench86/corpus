<% provide(:title, "Search results for #{params[:search]}") %>
<%= form_tag search_search_path, :method => 'get' do %>
  <p>
    <%= label_tag(:search, "Search for:") %>
    <%= text_field_tag :search, params[:search] %>
    <%= submit_tag "Go", :name => nil %>
  </p>
<% end %>

<div><%= pluralize(@results.total, 'Result') %> for "<%= params[:search] %>"</div>

<div><%= will_paginate @results.search.results %></div>

<table>
  <tr>
    <th>中文</th>
    <th>English</th>
  </tr>

<% @results.result_set.each do |item| %>
  <tr class="<%= cycle("odd", "even") %>">
    <td>
      <div><%= highlight(item[:chinese_paragraph].content, params[:search]) %></div>
      <div><%= link_to 'Full Article', item[:article], :controller => 'articles' %></div>
    </td>
    <td>
      <div><%= highlight(item[:english_paragraph].content, params[:search]) %></div>
      <div><%= link_to 'Full Article', item[:article], :controller => 'articles' %></div>
    </td>
  </tr>
<% end %>
</table>

<%= will_paginate @results.search.results %>